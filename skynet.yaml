name: verify-github-actions
description: Verify that the github actions run passed, this is needed to make pipelines pass without manual intervention
contact: 'Frontend Frameworks Architecture / #support-frontend-architecture'
image: drydock.workiva.net/workiva/skynet-images:3708893 # Uses the image from this branch: https://github.com/Workiva/skynet-images/pull/127
size: small
timeout: 600

run:
  on-pull-request: false
  on-promotion: true
  when-modified-file-name-is: 
    - skynet.yaml

env:
# encrypted github token used for requests to api.github.com
 - secure: 3tTph1R4dNGR1UEKC/boyKk6VSnkmevX9RGBh9ZzyMwQ0wp+0E1UM2hlutTg5mdjXGZyKUnsV4Q8JNrM72N7XY2SjDU=

scripts:
  - python3 /actions/verify_github_actions.py
